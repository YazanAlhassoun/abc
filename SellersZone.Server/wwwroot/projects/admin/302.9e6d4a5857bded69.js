"use strict";(self.webpackChunkFastkart_Admin_SSR=self.webpackChunkFastkart_Admin_SSR||[]).push([[302,443],{4302:(A,v,i)=>{i.r(v),i.d(v,{FaqModule:()=>Z});var o=i(177),h=i(1583),t=i(4438),q=i(628),n=i(9417),T=i(1413),u=i(5558),C=i(7673),g=i(1397),f=i(6977);let c=(()=>{class s{static{this.type="[Faq] Get"}constructor(e){this.payload=e}}return s})(),E=(()=>{class s{static{this.type="[Faq] Create"}constructor(e){this.payload=e}}return s})(),I=(()=>{class s{static{this.type="[Faq] Edit"}constructor(e){this.id=e}}return s})(),D=(()=>{class s{static{this.type="[Faq] Update"}constructor(e,r){this.payload=e,this.id=r}}return s})(),M=(()=>{class s{static{this.type="[Faq] Update Status"}constructor(e,r){this.id=e,this.status=r}}return s})(),R=(()=>{class s{static{this.type="[Faq] Delete"}constructor(e){this.id=e}}return s})(),$=(()=>{class s{static{this.type="[Faq] Delete All"}constructor(e){this.ids=e}}return s})();var m=i(1635),d=i(3487),j=i(8141),O=i(5482),P=i(7871),B=i(1626);let k=(()=>{class s{constructor(e){this.http=e}getFaqs(e){return this.http.get(`${P.c.URL}/faq.json`,{params:e})}static{this.\u0275fac=function(r){return new(r||s)(t.KVO(B.Qq))}}static{this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),p=class b{constructor(a,e,r){this.store=a,this.notificationService=e,this.faqService=r}static faq(a){return a.faq}static selectedFaq(a){return a.selectedFaq}getFaqs(a,e){return this.faqService.getFaqs(e.payload).pipe((0,j.M)({next:r=>{a.patchState({faq:{data:r.data,total:r?.total?r?.total:r.data?.length}})},error:r=>{throw new Error(r?.error?.message)}}))}create(a,e){}edit(a,{id:e}){const r=a.getState(),l=r.faq.data.find(F=>F.id==e);a.patchState({...r,selectedFaq:l})}update(a,{}){}updateStatus(a,{}){}delete(a,{}){}deleteAll(a,{}){}static{this.\u0275fac=function(e){return new(e||b)(t.KVO(d.il),t.KVO(O.J),t.KVO(k))}}static{this.\u0275prov=t.jDH({token:b,factory:b.\u0275fac})}};(0,m.Cg)([(0,d.rc)(c)],p.prototype,"getFaqs",null),(0,m.Cg)([(0,d.rc)(E)],p.prototype,"create",null),(0,m.Cg)([(0,d.rc)(I)],p.prototype,"edit",null),(0,m.Cg)([(0,d.rc)(D)],p.prototype,"update",null),(0,m.Cg)([(0,d.rc)(M)],p.prototype,"updateStatus",null),(0,m.Cg)([(0,d.rc)(R)],p.prototype,"delete",null),(0,m.Cg)([(0,d.rc)($)],p.prototype,"deleteAll",null),(0,m.Cg)([(0,d.MD)()],p,"faq",null),(0,m.Cg)([(0,d.MD)()],p,"selectedFaq",null),p=(0,m.Cg)([(0,d.Uw)({name:"faq",defaults:{faq:{data:[],total:0},selectedFaq:null}})],p);var Y=i(5859),w=i(1005),U=i(3955);function K(s,a){1&s&&(t.j41(0,"div",10),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&s&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"title_is_required")," "))}function L(s,a){1&s&&(t.j41(0,"div",10),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&s&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"description_is_required")," "))}let G=(()=>{class s{constructor(e,r,l,F){this.store=e,this.router=r,this.route=l,this.formBuilder=F,this.destroy$=new T.B,this.form=this.formBuilder.group({title:new n.MJ("",[n.k0.required]),description:new n.MJ("",[n.k0.required]),status:new n.MJ(!0)})}ngOnInit(){this.route.params.pipe((0,u.n)(e=>e.id?this.store.dispatch(new I(e.id)).pipe((0,g.Z)(()=>this.store.select(p.selectedFaq))):(0,C.of)()),(0,f.Q)(this.destroy$)).subscribe(e=>{this.faq=e,this.form.patchValue({title:this.faq?.title,description:this.faq?.description,status:this.faq?.status})})}submit(){this.form.markAllAsTouched();let e=new E(this.form.value);"edit"==this.type&&this.faq?.id&&(e=new D(this.form.value,this.faq.id)),this.form.valid&&this.store.dispatch(e).subscribe({complete:()=>{this.router.navigateByUrl("/faq")}})}static{this.\u0275fac=function(r){return new(r||s)(t.rXU(d.il),t.rXU(h.Ix),t.rXU(h.nX),t.rXU(n.ok))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-form-faq"]],inputs:{type:"type"},decls:17,vars:22,consts:[[1,"theme-form","theme-form-2","mega-form",3,"ngSubmit","formGroup"],[3,"label","for","required"],["type","text","name","title","formControlName","title",1,"form-control",3,"placeholder"],["class","invalid-feedback",4,"ngIf"],["formControlName","description","rows","3",1,"form-control",3,"placeholder"],[1,"form-check","form-switch","ps-0"],[1,"switch"],["type","checkbox","id","status","formControlName","status"],[1,"switch-state"],[3,"id"],[1,"invalid-feedback"]],template:function(r,l){1&r&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(){return l.submit()}),t.j41(1,"app-form-fields",1),t.nrm(2,"input",2),t.nI1(3,"translate"),t.DNE(4,K,3,3,"div",3),t.k0s(),t.j41(5,"app-form-fields",1),t.nrm(6,"textarea",4),t.nI1(7,"translate"),t.DNE(8,L,3,3,"div",3),t.k0s(),t.j41(9,"app-form-fields",1)(10,"div",5)(11,"label",6),t.nrm(12,"input",7)(13,"span",8),t.k0s()()(),t.j41(14,"app-button",9),t.EFF(15),t.nI1(16,"translate"),t.k0s()()),2&r&&(t.Y8G("formGroup",l.form),t.R7$(),t.Y8G("label","title")("for","title")("required",!0),t.R7$(),t.FS9("placeholder",t.bMT(3,16,"enter_title")),t.R7$(2),t.Y8G("ngIf",l.form.controls.title.touched&&(null==l.form.controls.title.errors?null:l.form.controls.title.errors.required)),t.R7$(),t.Y8G("label","description")("for","description")("required",!0),t.R7$(),t.FS9("placeholder",t.bMT(7,18,"enter_description")),t.R7$(2),t.Y8G("ngIf",l.form.controls.description.touched&&(null==l.form.controls.description.errors?null:l.form.controls.description.errors.required)),t.R7$(),t.Y8G("label","status")("for","status")("required",!1),t.R7$(5),t.Y8G("id","faq_btn"),t.R7$(),t.SpI(" ",t.bMT(16,20,"create"==l.type?"save_faq":"update_faq")," "))},dependencies:[o.bT,n.qT,n.me,n.Zm,n.BC,n.cb,n.j4,n.JD,Y.z,w.Q,U.D9]})}}return s})(),V=(()=>{class s{static{this.\u0275fac=function(r){return new(r||s)}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-create-faq"]],decls:2,vars:2,consts:[[3,"title"],[3,"type"]],template:function(r,l){1&r&&(t.j41(0,"app-page-wrapper",0),t.nrm(1,"app-form-faq",1),t.k0s()),2&r&&(t.Y8G("title","create_faq"),t.R7$(),t.Y8G("type","create"))},dependencies:[q.k,G]})}}return s})(),x=(()=>{class s{static{this.\u0275fac=function(r){return new(r||s)}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-edit-faq"]],decls:2,vars:2,consts:[[3,"title"],[3,"type"]],template:function(r,l){1&r&&(t.j41(0,"app-page-wrapper",0),t.nrm(1,"app-form-faq",1),t.k0s()),2&r&&(t.Y8G("title","edit_faq"),t.R7$(),t.Y8G("type","edit"))},dependencies:[q.k,G]})}}return s})();var H=i(67),N=i(4484);const W=()=>["/faq/create"];function X(s,a){1&s&&(t.j41(0,"div",3)(1,"a",4),t.nrm(2,"i",5),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&s&&(t.R7$(),t.Y8G("routerLink",t.lJ4(4,W)),t.R7$(2),t.SpI(" ",t.bMT(4,2,"add_faq")," "))}class y{constructor(a,e){this.store=a,this.router=e,this.tableConfig={columns:[{title:"No.",dataField:"no",type:"no"},{title:"title",dataField:"title",sortable:!0,sort_direction:"desc"},{title:"created_at",dataField:"created_at",type:"date",sortable:!0,sort_direction:"desc"},{title:"status",dataField:"status",type:"switch"}],rowActions:[{label:"Edit",actionToPerform:"edit",icon:"ri-pencil-line",permission:"faq.edit"},{label:"Delete",actionToPerform:"delete",icon:"ri-delete-bin-line",permission:"faq.destroy"}],data:[],total:0}}ngOnInit(){this.faq$.subscribe(a=>{this.tableConfig.data=a?a?.data:[],this.tableConfig.total=a?a?.total:0})}onTableChange(a){this.store.dispatch(new c(a))}onActionClicked(a){"edit"==a.actionToPerform?this.edit(a.data):"status"==a.actionToPerform?this.status(a.data):"delete"==a.actionToPerform?this.delete(a.data):"deleteAll"==a.actionToPerform&&this.deleteAll(a.data)}edit(a){this.router.navigateByUrl(`/faq/edit/${a.id}`)}status(a){this.store.dispatch(new M(a.id,a.status))}delete(a){this.store.dispatch(new R(a.id))}deleteAll(a){this.store.dispatch(new $(a))}static{this.\u0275fac=function(e){return new(e||y)(t.rXU(d.il),t.rXU(h.Ix))}}static{this.\u0275cmp=t.VBU({type:y,selectors:[["app-faq"]],decls:3,vars:5,consts:[[3,"gridClass","title"],["button","",4,"hasPermission"],[3,"tableChanged","rowClicked","action","tableConfig","hasCheckbox"],["button",""],[1,"align-items-center","btn","btn-theme","d-flex",3,"routerLink"],[1,"ri-add-line"]],template:function(e,r){1&e&&(t.j41(0,"app-page-wrapper",0),t.DNE(1,X,5,5,"div",1),t.j41(2,"app-table",2),t.bIt("tableChanged",function(F){return r.onTableChange(F)})("rowClicked",function(F){return r.edit(F)})("action",function(F){return r.onActionClicked(F)}),t.k0s()()),2&e&&(t.Y8G("gridClass","col-sm-12")("title","FAQ's"),t.R7$(),t.Y8G("hasPermission","faq.create"),t.R7$(),t.Y8G("tableConfig",r.tableConfig)("hasCheckbox",!0))},dependencies:[h.Wk,H.O,q.k,N.p,U.D9]})}}(0,m.Cg)([(0,d.l6)(p.faq)],y.prototype,"faq$",void 0);var S=i(8745);const J=[{path:"",component:y,canActivate:[S.L],data:{permission:"faq.index"}},{path:"create",component:V,canActivate:[S.L],data:{permission:["faq.index","faq.create"]}},{path:"edit/:id",component:x,canActivate:[S.L],data:{permission:["faq.index","faq.edit"]}}];let Q=(()=>{class s{static{this.\u0275fac=function(r){return new(r||s)}}static{this.\u0275mod=t.$C({type:s})}static{this.\u0275inj=t.G2t({imports:[h.iI.forChild(J),h.iI]})}}return s})();var z=i(1592);let Z=(()=>{class s{static{this.\u0275fac=function(r){return new(r||s)}}static{this.\u0275mod=t.$C({type:s})}static{this.\u0275inj=t.G2t({imports:[o.MD,Q,z.G,d.rK.forFeature([p])]})}}return s})()},8745:(A,v,i)=>{i.d(v,{L:()=>q});var o=i(4438),h=i(3487),t=i(1583);let q=(()=>{class n{constructor(u,C){this.store=u,this.router=C}canActivate(u,C){const g=this.store.selectSnapshot(c=>c.account).permissions?.map(c=>c?.name),f=u.data?.permission;return!!(!f||!Array.isArray(f)&&g?.includes(f)||Array.isArray(f)&&f?.length&&f.every(c=>g?.includes(c)))||(this.router.navigate(["/error/403"]),!1)}static{this.\u0275fac=function(C){return new(C||n)(o.KVO(h.il),o.KVO(t.Ix))}}static{this.\u0275prov=o.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})()},5859:(A,v,i)=>{i.d(v,{z:()=>T});var o=i(4438),h=i(177),t=i(3955);const q=["*"];function n(u,C){1&u&&(o.j41(0,"span",1),o.EFF(1,"*"),o.k0s())}let T=(()=>{class u{constructor(){this.class="mb-4 row align-items-center g-2",this.labelClass="form-label-title col-sm-2 mb-0",this.gridClass="col-sm-10"}static{this.\u0275fac=function(f){return new(f||u)}}static{this.\u0275cmp=o.VBU({type:u,selectors:[["app-form-fields"]],inputs:{class:"class",label:"label",labelClass:"labelClass",gridClass:"gridClass",for:"for",required:"required"},ngContentSelectors:q,decls:7,vars:11,consts:[["class","theme-color ms-2 required-dot",4,"ngIf"],[1,"theme-color","ms-2","required-dot"]],template:function(f,c){1&f&&(o.NAR(),o.j41(0,"div")(1,"label"),o.EFF(2),o.nI1(3,"translate"),o.DNE(4,n,2,0,"span",0),o.k0s(),o.j41(5,"div"),o.SdG(6),o.k0s()()),2&f&&(o.HbH(c.class),o.R7$(),o.HbH(c.labelClass),o.BMQ("for",c.for),o.R7$(),o.SpI(" ",o.bMT(3,9,c.label),""),o.R7$(2),o.Y8G("ngIf",c.required),o.R7$(),o.HbH(c.gridClass))},dependencies:[h.bT,t.D9]})}}return u})()}}]);