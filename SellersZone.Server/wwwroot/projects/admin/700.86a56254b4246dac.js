"use strict";(self.webpackChunkFastkart_Admin_SSR=self.webpackChunkFastkart_Admin_SSR||[]).push([[700],{4700:(C,p,e)=>{e.r(p),e.d(p,{ReviewModule:()=>w});var d=e(177),u=e(3487),m=e(1583),g=e(1635),o=e(5950),h=e(6176),a=e(4438),c=e(67),v=e(628);class s{constructor(t){this.store=t,this.tableConfig={columns:[{title:"No.",dataField:"no",type:"no"},{title:"image",dataField:"product_review_image",class:"tbl-image",type:"image",placeholder:"assets/images/product.png"},{title:"consumer_name",dataField:"consumer_name"},{title:"product_name",dataField:"product_name"},{title:"rating",dataField:"rating",type:"rating",sortable:!0,sort_direction:"desc"},{title:"created_at",dataField:"created_at",type:"date",sortable:!0,sort_direction:"desc"}],rowActions:[{label:"Delete",actionToPerform:"delete",icon:"ri-delete-bin-line",permission:"review.destroy"}],data:[],total:0},this.store.dispatch(new h.AB)}ngOnInit(){this.review$.subscribe(t=>{let n=t?.data?.filter(i=>(i.product_review_image=i?.product?.product_thumbnail,i.consumer_name=i?.consumer?.name,i.product_name=i?.product?.name,i));this.tableConfig.data=t?n:[],this.tableConfig.total=t?t.total:0})}onTableChange(t){this.store.dispatch(new h.AB(t))}onActionClicked(t){"delete"==t.actionToPerform?this.delete(t.data):"deleteAll"==t.actionToPerform&&this.deleteAll(t.data)}delete(t){this.store.dispatch(new h.AY(t.id))}deleteAll(t){this.store.dispatch(new h.Pn(t))}static{this.\u0275fac=function(n){return new(n||s)(a.rXU(u.il))}}static{this.\u0275cmp=a.VBU({type:s,selectors:[["app-review"]],decls:2,vars:4,consts:[[3,"gridClass","title"],[3,"tableChanged","action","tableConfig","hasCheckbox"]],template:function(n,i){1&n&&(a.j41(0,"app-page-wrapper",0)(1,"app-table",1),a.bIt("tableChanged",function(f){return i.onTableChange(f)})("action",function(f){return i.onActionClicked(f)}),a.k0s()()),2&n&&(a.Y8G("gridClass","col-sm-12")("title","reviews"),a.R7$(),a.Y8G("tableConfig",i.tableConfig)("hasCheckbox",!0))},dependencies:[c.O,v.k]})}}(0,g.Cg)([(0,u.l6)(o.C.review)],s.prototype,"review$",void 0);var l=e(8745);const A=[{path:"",component:s,canActivate:[l.L],data:{permission:"review.index"}}];let y=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=a.$C({type:r})}static{this.\u0275inj=a.G2t({imports:[m.iI.forChild(A),m.iI]})}}return r})();var b=e(1592);let w=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=a.$C({type:r})}static{this.\u0275inj=a.G2t({imports:[d.MD,y,u.rK.forFeature([o.C]),b.G]})}}return r})()},8745:(C,p,e)=>{e.d(p,{L:()=>g});var d=e(4438),u=e(3487),m=e(1583);let g=(()=>{class o{constructor(a,c){this.store=a,this.router=c}canActivate(a,c){const v=this.store.selectSnapshot(l=>l.account).permissions?.map(l=>l?.name),s=a.data?.permission;return!!(!s||!Array.isArray(s)&&v?.includes(s)||Array.isArray(s)&&s?.length&&s.every(l=>v?.includes(l)))||(this.router.navigate(["/error/403"]),!1)}static{this.\u0275fac=function(c){return new(c||o)(d.KVO(u.il),d.KVO(m.Ix))}}static{this.\u0275prov=d.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})()}}]);