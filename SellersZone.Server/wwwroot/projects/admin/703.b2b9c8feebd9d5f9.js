"use strict";(self.webpackChunkFastkart_Admin_SSR=self.webpackChunkFastkart_Admin_SSR||[]).push([[703,443],{9703:(y,v,e)=>{e.r(v),e.d(v,{TaxModule:()=>L});var s=e(177),f=e(3487),g=e(1592),p=e(1583),u=e(1635),T=e(7071),i=e(1665),t=e(4438),C=e(67),c=e(628),m=e(4484),F=e(3955);const I=()=>["/tax/create"];function R(a,r){1&a&&(t.j41(0,"div",3)(1,"a",4),t.nrm(2,"i",5),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&a&&(t.R7$(),t.Y8G("routerLink",t.lJ4(4,I)),t.R7$(2),t.SpI(" ",t.bMT(4,2,"add_tax")," "))}class b{constructor(r,n){this.store=r,this.router=n,this.tableConfig={columns:[{title:"No.",dataField:"no",type:"no"},{title:"name",dataField:"name",sortable:!0,sort_direction:"desc"},{title:"created_at",dataField:"created_at",type:"date",sortable:!0,sort_direction:"desc"},{title:"status",dataField:"status",type:"switch"}],rowActions:[{label:"Edit",actionToPerform:"edit",icon:"ri-pencil-line",permission:"tax.edit"},{label:"Delete",actionToPerform:"delete",icon:"ri-delete-bin-line",permission:"tax.destroy"}],data:[],total:0}}ngOnInit(){this.tax$.subscribe(r=>{this.tableConfig.data=r?r?.data:[],this.tableConfig.total=r?r?.total:0})}onTableChange(r){this.store.dispatch(new i.qA(r))}onActionClicked(r){"edit"==r.actionToPerform?this.edit(r.data):"status"==r.actionToPerform?this.status(r.data):"delete"==r.actionToPerform?this.delete(r.data):"deleteAll"==r.actionToPerform&&this.deleteAll(r.data)}edit(r){this.router.navigateByUrl(`/tax/edit/${r.id}`)}status(r){this.store.dispatch(new i.VV(r.id,r.status))}delete(r){this.store.dispatch(new i.LY(r.id))}deleteAll(r){this.store.dispatch(new i.ku(r))}static{this.\u0275fac=function(n){return new(n||b)(t.rXU(f.il),t.rXU(p.Ix))}}static{this.\u0275cmp=t.VBU({type:b,selectors:[["app-tax"]],decls:3,vars:5,consts:[[3,"gridClass","title"],["button","",4,"hasPermission"],[3,"tableChanged","rowClicked","action","tableConfig","hasCheckbox"],["button",""],[1,"align-items-center","btn","btn-theme","d-flex",3,"routerLink"],[1,"ri-add-line"]],template:function(n,o){1&n&&(t.j41(0,"app-page-wrapper",0),t.DNE(1,R,5,5,"div",1),t.j41(2,"app-table",2),t.bIt("tableChanged",function(h){return o.onTableChange(h)})("rowClicked",function(h){return o.edit(h)})("action",function(h){return o.onActionClicked(h)}),t.k0s()()),2&n&&(t.Y8G("gridClass","col-sm-12")("title","taxes"),t.R7$(),t.Y8G("hasPermission","tax.create"),t.R7$(),t.Y8G("tableConfig",o.tableConfig)("hasCheckbox",!0))},dependencies:[p.Wk,C.O,c.k,m.p,F.D9]})}}(0,u.Cg)([(0,f.l6)(T.t.tax)],b.prototype,"tax$",void 0);var l=e(9417),M=e(1413),$=e(7673),A=e(5558),D=e(1397),G=e(6977),P=e(5859),j=e(1005);function U(a,r){1&a&&(t.j41(0,"div",12),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"name_is_required")," "))}function k(a,r){1&a&&(t.j41(0,"div",12),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"rate_is_required")," "))}let E=(()=>{class a{constructor(n,o,d,h){this.store=n,this.route=o,this.router=d,this.formBuilder=h,this.destroy$=new M.B,this.form=this.formBuilder.group({name:new l.MJ("",[l.k0.required]),rate:new l.MJ("",[l.k0.required]),status:new l.MJ(1)})}ngOnInit(){this.route.params.pipe((0,A.n)(n=>n.id?this.store.dispatch(new i.oE(n.id)).pipe((0,D.Z)(()=>this.store.select(T.t.selectedTax))):(0,$.of)()),(0,G.Q)(this.destroy$)).subscribe(n=>{this.id=n?.id,this.form.patchValue({name:n?.name,rate:n?.rate,status:n?.status})})}submit(){this.form.markAllAsTouched();let n=new i.gG(this.form.value);"edit"==this.type&&this.id&&(n=new i.PF(this.form.value,this.id)),this.form.valid&&this.store.dispatch(n).subscribe({complete:()=>{this.router.navigateByUrl("/tax")}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(f.il),t.rXU(p.nX),t.rXU(p.Ix),t.rXU(l.ok))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-form-tax"]],inputs:{type:"type"},decls:20,vars:21,consts:[[1,"theme-form","theme-form-2","mega-form",3,"ngSubmit","formGroup"],[3,"label","for","required"],["type","text","placeholder","Enter tax name","name","name","formControlName","name",1,"form-control"],["class","invalid-feedback",4,"ngIf"],[1,"input-group"],["type","number","min","0","max","100","oninput","if (value > 100) value = 100; if (value < 0) value = 0;","name","rate","formControlName","rate",1,"form-control",3,"placeholder"],[1,"input-group-text"],[1,"form-check","form-switch","ps-0"],[1,"switch"],["type","checkbox","id","status","formControlName","status"],[1,"switch-state"],[3,"id"],[1,"invalid-feedback"]],template:function(o,d){1&o&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(){return d.submit()}),t.j41(1,"app-form-fields",1),t.nI1(2,"translate"),t.nrm(3,"input",2),t.DNE(4,U,3,3,"div",3),t.k0s(),t.j41(5,"app-form-fields",1)(6,"div",4),t.nrm(7,"input",5),t.nI1(8,"translate"),t.j41(9,"span",6),t.EFF(10,"%"),t.k0s()(),t.DNE(11,k,3,3,"div",3),t.k0s(),t.j41(12,"app-form-fields",1)(13,"div",7)(14,"label",8),t.nrm(15,"input",9)(16,"span",10),t.k0s()()(),t.j41(17,"app-button",11),t.EFF(18),t.nI1(19,"translate"),t.k0s()()),2&o&&(t.Y8G("formGroup",d.form),t.R7$(),t.Y8G("label",t.bMT(2,15,"name"))("for","name")("required",!0),t.R7$(3),t.Y8G("ngIf",d.form.controls.name.touched&&(null==d.form.controls.name.errors?null:d.form.controls.name.errors.required)),t.R7$(),t.Y8G("label","rate")("for","rate")("required",!0),t.R7$(2),t.FS9("placeholder",t.bMT(8,17,"enter_rate")),t.R7$(4),t.Y8G("ngIf",d.form.controls.rate.touched&&(null==d.form.controls.rate.errors?null:d.form.controls.rate.errors.required)),t.R7$(),t.Y8G("label","status")("for","status")("required",!1),t.R7$(5),t.Y8G("id","tax_btn"),t.R7$(),t.JRh(t.bMT(19,19,"create"==d.type?"save_tax":"update_tax")))},dependencies:[s.bT,l.qT,l.me,l.Q0,l.Zm,l.BC,l.cb,l.VZ,l.zX,l.j4,l.JD,P.z,j.Q,F.D9]})}}return a})(),B=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-create-tax"]],decls:2,vars:2,consts:[[3,"title"],[3,"type"]],template:function(o,d){1&o&&(t.j41(0,"app-page-wrapper",0),t.nrm(1,"app-form-tax",1),t.k0s()),2&o&&(t.Y8G("title","add_tax"),t.R7$(),t.Y8G("type","create"))},dependencies:[c.k,E]})}}return a})(),O=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-edit-tax"]],decls:2,vars:2,consts:[[3,"title"],[3,"type"]],template:function(o,d){1&o&&(t.j41(0,"app-page-wrapper",0),t.nrm(1,"app-form-tax",1),t.k0s()),2&o&&(t.Y8G("title","edit_tax"),t.R7$(),t.Y8G("type","edit"))},dependencies:[c.k,E]})}}return a})();var x=e(8745);const Y=[{path:"",component:b,canActivate:[x.L],data:{permission:"tax.index"}},{path:"create",component:B,canActivate:[x.L],data:{permission:["tax.index","tax.create"]}},{path:"edit/:id",component:O,canActivate:[x.L],data:{permission:["tax.index","tax.edit"]}}];let S=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275mod=t.$C({type:a})}static{this.\u0275inj=t.G2t({imports:[p.iI.forChild(Y),p.iI]})}}return a})(),L=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275mod=t.$C({type:a})}static{this.\u0275inj=t.G2t({imports:[s.MD,S,g.G,f.rK.forFeature([T.t])]})}}return a})()},8745:(y,v,e)=>{e.d(v,{L:()=>p});var s=e(4438),f=e(3487),g=e(1583);let p=(()=>{class u{constructor(i,t){this.store=i,this.router=t}canActivate(i,t){const C=this.store.selectSnapshot(m=>m.account).permissions?.map(m=>m?.name),c=i.data?.permission;return!!(!c||!Array.isArray(c)&&C?.includes(c)||Array.isArray(c)&&c?.length&&c.every(m=>C?.includes(m)))||(this.router.navigate(["/error/403"]),!1)}static{this.\u0275fac=function(t){return new(t||u)(s.KVO(f.il),s.KVO(g.Ix))}}static{this.\u0275prov=s.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})()},5859:(y,v,e)=>{e.d(v,{z:()=>T});var s=e(4438),f=e(177),g=e(3955);const p=["*"];function u(i,t){1&i&&(s.j41(0,"span",1),s.EFF(1,"*"),s.k0s())}let T=(()=>{class i{constructor(){this.class="mb-4 row align-items-center g-2",this.labelClass="form-label-title col-sm-2 mb-0",this.gridClass="col-sm-10"}static{this.\u0275fac=function(c){return new(c||i)}}static{this.\u0275cmp=s.VBU({type:i,selectors:[["app-form-fields"]],inputs:{class:"class",label:"label",labelClass:"labelClass",gridClass:"gridClass",for:"for",required:"required"},ngContentSelectors:p,decls:7,vars:11,consts:[["class","theme-color ms-2 required-dot",4,"ngIf"],[1,"theme-color","ms-2","required-dot"]],template:function(c,m){1&c&&(s.NAR(),s.j41(0,"div")(1,"label"),s.EFF(2),s.nI1(3,"translate"),s.DNE(4,u,2,0,"span",0),s.k0s(),s.j41(5,"div"),s.SdG(6),s.k0s()()),2&c&&(s.HbH(m.class),s.R7$(),s.HbH(m.labelClass),s.BMQ("for",m.for),s.R7$(),s.SpI(" ",s.bMT(3,9,m.label),""),s.R7$(2),s.Y8G("ngIf",m.required),s.R7$(),s.HbH(m.gridClass))},dependencies:[f.bT,g.D9]})}}return i})()}}]);